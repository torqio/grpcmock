// Code generated by protoc-gen-grpcmock. DO NOT EDIT.

package {{ .GoPackageName }}

import (
	"context"

	"github.com/torqio/grpcmock/pkg/stub"
)

{{ range $svc := .Services }}
type {{ $svc.GoName }}MockServer struct {
	stubFiles stub.MethodFileStubs
}

func New{{ $svc.GoName }}MockServer(stubDir string) (*{{ $svc.GoName }}MockServer, error) {
    stubFiles, err := stub.MapStubFiles(stubDir)
    if err != nil {
        return nil, err
    }
    return &{{ $svc.GoName }}MockServer{stubFiles: stubFiles}, nil
}

{{ range $method := $svc.Methods }}
func (m *{{ $svc.GoName }}MockServer) {{ $method.GoName }}(ctx context.Context, req *{{ qualifiedIdent $method.Input.GoIdent }}) (*{{ qualifiedIdent $method.Output.GoIdent }}, error) {
    var res {{ qualifiedIdent $method.Output.GoIdent }}
    return &res, stub.GetFileStubResponse(m.stubFiles, "{{ $method.GoName }}", req, &res)
}
{{- end }}
{{- end }}